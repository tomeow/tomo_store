<!-- static/partials/customers.html -->
<div>
	<h2>Add a new Customer</h2>
	<form name='usersForm' ng-submit='addCustomer()'>
		<div class='dup' ng-show=isDuplicate()>Name duplciated!!</div>
		Customer Name: <input name='name' type='text' ng-model='new_customer.name' ng-minlength='2' ng-maxlength='20' required>
		<input type='submit' value='Add' ng-disabled='usersForm.name.$invalid'>
	</form>
	<div ng-messages="usersForm.name.$error" style="color:maroon" role="alert" ng-show= 'usersForm.name.$dirty'>
	    <div ng-message="required">You did not enter a field</div>
	    <div ng-message="minlength">Your field is too short</div>
	    <div ng-message="maxlength">Your field is too long</div>
	</div>

	<div>
		<input type='text' ng-model='filter_name' placeholder='search name...'>
	</div>
	<table>
		<thead>
			<th>Name</th>
			<th>Created Date</th>
			
		</thead>

		<tbody>
			<tr ng-repeat='customer in customers | filter: filter_name track by $index'>
				<td>{{customer.name}}</td>
				<td>{{customer.created_at  | date: 'MMMM dd, yyyy'}}</td>
				
			</tr>
		</tbody>
	</table>
</div>
